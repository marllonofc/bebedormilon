<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;600;700&family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- ✅ Meta Pixel Code -->
<script>
  !(function (f, b, e, v, n, t, s) {
    if (f.fbq) return;
    n = f.fbq = function () {
      n.callMethod
        ? n.callMethod.apply(n, arguments)
        : n.queue.push(arguments);
    };
    if (!f._fbq) f._fbq = n;
    n.push = n;
    n.loaded = !0;
    n.version = "2.0";
    n.queue = [];
    t = b.createElement(e);
    t.async = !0;
    t.src = v;
    s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s);
  })(
    window,
    document,
    "script",
    "https://connect.facebook.net/en_US/fbevents.js"
  );

  // Aguarda carregamento do fbq
  window.addEventListener("load", function () {
    if (typeof fbq === "function") {
      fbq("init", "1485206809451869");  <!-- 🔁 Pixel ID Atualizado -->
      fbq("track", "PageView");
      fbq("track", "ViewContent");
    }
  });
</script>
    <!-- ✅ End Meta Pixel Code -->
  </head>

  <body>
    <div id="root"></div>

    <!-- ✅ NoScript precisa ficar dentro do body -->
    <noscript>
      <img
        height="1"
        width="1"
        style="display:none"
        src="https://www.facebook.com/tr?id=1485206809451869&ev=PageView&noscript=1"  <!-- 🔁 Pixel ID Atualizado -->
      />
    </noscript>

    <!-- ✅ Rastreia clique no botão de checkout -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const checkoutButton = document.querySelector(".botao-comprar"); // ajuste se tiver outro seletor
        if (checkoutButton) {
          checkoutButton.addEventListener("click", function () {
            fbq("track", "InitiateCheckout", {
              value: 19.9,
              currency: "USD",
              contents: [
                { id: "produto-principal", quantity: 1, item_price: 19.9 },
              ],
              content_type: "product",
            });
          });
        }
      });
    </script>

    <script type="module" src="/src/main.tsx"></script>
    <script
      type="text/javascript"
      src="https://replit.com/public/js/replit-dev-banner.js"
    ></script>
  </body>
</html>
